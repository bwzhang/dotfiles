_HiStOrY_V2_
tables
\\c
tables\040
CREATE\040TABLE\040Item\040(iid\040INTEGER\040NOT\040NULL\040PRIMARY\040KEY,\040
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040color\040VARCHAR(10));
CREATE\040TABLE\040Item\040(iid\040INTEGER\040NOT\040NULL\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040color\040VARCHAR(10));
CREATE\040DATABASE\040cs4320
;
CREATE\040DATABASE\040cs4320;
use\040cs3410
use\040cs3420
use\040cs4320
CREATE\040TABLE\040Item\040(iid\040INTEGER\040NOT\040NULL\040PRIMARY\040KEY,\040
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040color\040VARCHAR(10));
CREATE\040TABLE\040Item\040(iid\040INTEGER\040NOT\040NULL\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040color\040VARCHAR(10));
tables;
show\040tables;
show\040Item
;
describe\040Item
;
CREATE\040TABLE\040Store\040(storeid\040INTEGER\040PRIMARY\040KEY,\040
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040name\040VARCHAR(20));
CREATE\040TABLE\040Store\040(storeid\040INTEGER\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040name\040VARCHAR(20));
CREATE\040TABLE\040Sells\040(iid\040INTEGER,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040storeid\040INTEGER,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040price\040INTEGER,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040FOREIGN\040KEY\040(iid)\040REFERENCES\040Item(iid),
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040FOREIGN\040KEY\040(storeid)\040REFERENCES\040Store(storeid),
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040PRIMARY\040KEY\040(iid,\040storeid));
CREATE\040TABLE\040Sells\040(iid\040INTEGER,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040storeid\040INTEGER,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040price\040INTEGER,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040FOREIGN\040KEY\040(iid)\040REFERENCES\040Item(iid),\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040FOREIGN\040KEY\040(storeid)\040REFERENCES\040Store(storeid),\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040PRIMARY\040KEY\040(iid,\040storeid));
describe\040sells
;
select\040iid\040from\040sells
;
insert\040into\040Item\040(color)\040values\040(white);
insert\040into\040Item\040(color)\040values\040("white");
insert\040into\040Item\040(iid,\040color)\040values\040(0,\040"white");
select\040color\040from\040item
;
select\040color\040from\040item\040where\040iid\040=\0400;
select\040color\040from\040item\040where\040iid\040=\0400\040&&\040iid\040<\0401;
select\040color\040from\040item\040where\040iid\040=\0400\040&&\040iid\040<\0400;
insert\040into\040Item\040(iid,\040color)\040values\040(1,\040"white");
select\040color\040from\040item;
select\040color\040from\040item\040group\040by\040color
;
select\040*\040from\040item\040group\040by\040color;
show\040tables
;
use\040cs4320
show\040tables
;
select\040*\040from\040Item
;
insert\040into\040items\040values\040(2,\040black)
;
insert\040into\040item\040values\040(2,\040black);
insert\040into\040item\040values\040(2,\040"black");
insert\040into\040item\040values\040(3,\040"green");
insert\040into\040item\040values\040(4,\040"red");
insert\040into\040item\040values\040(5,\040"blue");
insert\040into\040item\040values\040(6,\040"red");
insert\040into\040store\040values\040(0,\040"Brandon's");
insert\040into\040store\040values\040(1,\040"Lucas's");
insert\040into\040store\040values\040(1,\040"John's");
insert\040into\040store\040values\040(2,\040"John's");
insert\040into\040store\040values\040(3,\040"Blake's");
insert\040into\040store\040values\040(3,\040"Kim's");
insert\040into\040store\040values\04043,\040"Kim's");
insert\040into\040store\040values\040(3,\040"Kim's");
insert\040into\040store\040values\040(4,\040"Kim's");
insert\040into\040store\040values\040(5,\040"Jay's");
insert\040into\040store\040values\040(6,\040"Gun's");
insert\040into\040store\040values\040(7,\040"Kid's");
insert\040into\040sells\040values\040(0,\0400,\0401);
insert\040into\040sells\040values\040(0,\0401,\0405);
insert\040into\040sells\040values\040(2,\0401,\0405);
insert\040into\040sells\040values\040(3,\0401,\0402);
insert\040into\040sells\040values\040(4,\0406,\0404);
insert\040into\040sells\040values\040(3,\0405,\0405);
insert\040into\040sells\040values\040(2,\0405,\0404);
insert\040into\040sells\040values\040(4,\0401,\04024);
select\040*\040from\040sells
;
insert\040into\040sells\040values\040(4,\0405,\0404);
select\040S.storeid\040from\040Sells\040S\040group\040by\040S.storeid\040having\040count(distinct\040S.color)\040=\0403;
select\040S.storeid\040from\040Sells\040S,\040Item\040I\040where\040S.iid\040=\040I.iid\040group\040by\040S.storeid\040having\040count(distinct\040I.color)\040=\0403;
select\040*\040from\040sells
;
select\040*\040from\040item;
insert\040into\040sells\040values\040(0,\0406,\0404);
insert\040into\040sells\040values\040(2,\0406,\0404);
insert\040into\040sells\040values\040(1,\0406,\0404);
select\040S.storeid\040from\040Sells\040S,\040Item\040I\040where\040S.iid\040=\040I.iid\040group\040by\040S.storeid\040having\040count(distinct\040I.color)\040=\0403;
select\040S1.storeid\040from\040Sells\040S1,\040Sells\040S2\040where\040S1.storeid\040<\040S2.storeid\040and\040NOT\040EXISTS\040(select\040S3.storeid,\040S4.storeid\040from
Sells\040S3,\040Sells\040S4\040where\040S3.storeid\040=\040S1.storeid\040and\040S4.storeid\040=\040S2.storeid\040and\040S3.iid\040=\040S4.iid);
select\040S1.storeid\040from\040Sells\040S1,\040Sells\040S2\040where\040S1.storeid\040<\040S2.storeid\040and\040NOT\040EXISTS\040(select\040S3.storeid,\040S4.storeid\040from\040Sells\040S3,\040Sells\040S4\040where\040S3.storeid\040=\040S1.storeid\040and\040S4.storeid\040=\040S2.storeid\040and\040S3.iid\040=\040S4.iid);
select\040S1.storeid,\040S2.storeid\040from\040Sells\040S1,\040Sells\040S2\040where\040S1.storeid\040<\040S2.storeid\040and\040NOT\040EXISTS\040(select\040S3.storeid,\040S4.storeid\040from
Sells\040S3,\040Sells\040S4\040where\040S3.storeid\040=\040S1.storeid\040and\040S4.storeid\040=\040S2.storeid\040and\040S3.iid\040=\040S4.iid);
select\040S1.storeid,\040S2.storeid\040from\040Sells\040S1,\040Sells\040S2\040where\040S1.storeid\040<\040S2.storeid\040and\040NOT\040EXISTS\040(select\040S3.storeid,\040S4.storeid\040from\040Sells\040S3,\040Sells\040S4\040where\040S3.storeid\040=\040S1.storeid\040and\040S4.storeid\040=\040S2.storeid\040and\040S3.iid\040=\040S4.iid);
select\040distinct\040S1.storeid,\040S2.storeid\040from\040Sells\040S1,\040Sells\040S2\040where\040S1.storeid\040<\040S2.storeid\040and\040NOT\040EXISTS\040(select\040S3.storeid,\040S4.storeid\040from
Sells\040S3,\040Sells\040S4\040where\040S3.storeid\040=\040S1.storeid\040and\040S4.storeid\040=\040S2.storeid\040and\040S3.iid\040=\040S4.iid);
select\040distinct\040S1.storeid,\040S2.storeid\040from\040Sells\040S1,\040Sells\040S2\040where\040S1.storeid\040<\040S2.storeid\040and\040NOT\040EXISTS\040(select\040S3.storeid,\040S4.storeid\040from\040Sells\040S3,\040Sells\040S4\040where\040S3.storeid\040=\040S1.storeid\040and\040S4.storeid\040=\040S2.storeid\040and\040S3.iid\040=\040S4.iid);
select\040*\040from\040sells;
select\040S.storeid\040from\040Sells\040S,\040Item\040I\040group\040by\040S.storeid\040having\040count(distinct\040I.color)\040=\0403
;
select\040S.storeid\040from\040Sells\040S,\040Item\040I\040where\040S.iid\040=\040I.iid\040group\040by\040S.storeid\040having\040count(distinct\040I.color)\040=\0403;
select\040S.iid,\040S.storeid,\040S.price\040from\040Sells\040S\040where\040(S.iid,\040S.price)\040in\040(select\040P.iid,\040min(P.price)\040from\040Sells\040P\040group\040by\040P.iid);
select\040S.storeid,\040count(*)\040from\040Sells\040S\040group\040by\040S.storeid;
select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid);
select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T;
select\040storeid\040from\040T\040where\040count\040=\040(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T);
select\040storeid,\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040<\040
(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T);
select\040storeid,\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040<\040\040(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T);
select\040storeid,\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040<\040
(select\040max(count)\040from\040T);
select\040storeid,\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040<\040\040(select\040max(count)\040from\040T);
select\040storeid,\040count\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040<\040
(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T);
select\040storeid,\040count\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040<\040\040(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T);
select\040storeid\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040=\040
(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040<\040
(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T));
select\040storeid\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040=\040\040(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040<\040\040(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T));
select\040storeid\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040=\040
(select\040max(count)\040from\040T\040where\040count\040<\040
(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T));
select\040storeid\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040=\040\040(select\040max(count)\040from\040T\040where\040count\040<\040\040(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T));
use\040cs4320
select\040storeid\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T\040where\040count\040=\040\040(select\040max(count)\040from\040T\040where\040count\040<\040\040(select\040max(count)\040from\040(select\040S.storeid,\040count(*)\040as\040count\040from\040Sells\040S\040group\040by\040S.storeid)\040as\040T));
select\0402\040=\040null
;
select\040*\040from\040sells
;
select\040iid\040from\040sells
;
use\040cs3420
use\040CS3420
use\040CS4320
sells
;
select\040*\040from\040sells
;
Select\040*\040from\040(Sells\040as\040s1\040join\040Sells\040as\040s2)\040as\040t;
Select\040*\040from\040(Sells\040as\040s1\040join\040Sells\040as\040s2);
Select\040*\040from\040(Sells\040as\040s1\040join\040Sells\040as\040s2\040on\040s1.sid\040=\040s2.sid);
Select\040*\040from\040(Sells\040as\040s1\040join\040Sells\040as\040s2\040on\040s1.storeid\040=\040s2.storeid);
use\040CS4320
select\040S.iid,\040S.storeid,\040S.price\040from\040Sells\040S\040where\040(S.iid,\040S.price)\040in\040(select\040P.iid,\040min(P.price)\040from\040Sells\040P\040group\040by\040P.iid);
sells
;
select\040*\040from\040sells
;
use\040cs4320
SELECT\040S.storeid
FROM\040Sells\040S,\040Item\040I
WHERE\040S.iid\040=\040I.iid
GROUP\040BY\040S.storeid
HAVING\040COUNT(DISTINCT\040I.Color)\040=\0403;\040
SELECT\040S.storeid\040FROM\040Sells\040S,\040Item\040I\040WHERE\040S.iid\040=\040I.iid\040GROUP\040BY\040S.storeid\040HAVING\040COUNT(DISTINCT\040I.Color)\040=\0403;
select\040*\040from\040sells
;
select\040*\040from\040(sells\040s\040join\040item\040i\040on\040s.iid\040=\040i.iid);\040
select\040storeid,\040color\040from\040(sells\040s\040join\040item\040i\040on\040s.iid\040=\040i.iid);
select\040storeid,\040color\040from\040(sells\040s\040join\040item\040i\040on\040s.iid\040=\040i.iid)\040order\040by\040storeid;
SELECT\040DISTINCT\040S1.storeid,S2.storeid
FROM\040Sells\040S1,\040Sells\040S2
WHERE\040S1.storeid\040<\040S2.storeid\040AND\040
\040NOT\040EXISTS\040(SELECT\040S3.storeid,\040S4.storeid\040FROM
\040\040Sells\040S3,\040Sells\040S4\040
\040\040WHERE\040S3.storeid\040=\040S1.storeid\040AND\040S4.storeid\040=\040S2.storeid\040AND\040S3.iid\040=\040S4.iid);
SELECT\040DISTINCT\040S1.storeid,S2.storeid\040FROM\040Sells\040S1,\040Sells\040S2\040WHERE\040S1.storeid\040<\040S2.storeid\040AND\040\040\040NOT\040EXISTS\040(SELECT\040S3.storeid,\040S4.storeid\040FROM\040\040\040Sells\040S3,\040Sells\040S4\040\040\040\040WHERE\040S3.storeid\040=\040S1.storeid\040AND\040S4.storeid\040=\040S2.storeid\040AND\040S3.iid\040=\040S4.iid);
SELECT\040S.*
FROM\040Sells\040S
WHERE\040(S.iid,\040S.price)\040IN
(SELECT\040P.iid,\040MIN(P.price)
FROM\040Sells\040P
GROUP\040BY\040P.iid);
SELECT\040S.*\040FROM\040Sells\040S\040WHERE\040(S.iid,\040S.price)\040IN\040(SELECT\040P.iid,\040MIN(P.price)\040FROM\040Sells\040P\040GROUP\040BY\040P.iid);
show\040tables
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,sname\040VARCHAR(20));
use\040test
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,sname\040VARCHAR(20));
DROP\040TABLE\040IF\040EXISTS\040Student;
DROP\040TABLE\040IF\040EXISTS\040CourseOffering;
DROP\040TABLE\040IF\040EXISTS\040Enrolled;
use\040test
DROP\040TABLE\040IF\040EXISTS\040Student;
DROP\040TABLE\040IF\040EXISTS\040CourseOffering;
DROP\040TABLE\040IF\040EXISTS\040Enrolled;
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
CREATE\040TABLE\040CourseOffering\040(cid\040INTEGER\040NOT\040NULL,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040semesterid\040INTEGER\040NOT\040NULL,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040profid\040INTEGER,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040roomid\040INTEGER,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040PRIMARY\040key\040(cid,\040semesterid));
CREATE\040TABLE\040CourseOffering\040(cid\040INTEGER\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040semesterid\040INTEGER\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040profid\040INTEGER,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040roomid\040INTEGER,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040PRIMARY\040key\040(cid,\040semesterid));
CREATE\040TABLE\040Enrolled\040(sid\040INTEGER\040NOT\040NULL,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040cid\040INTEGER\040NOT\040NULL,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040semesterid\040INTEGER\040NOT\040NULL,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040grade\040INTEGER,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040PRIMARY\040KEY\040(sid,\040cid,\040semesterid));
CREATE\040TABLE\040Enrolled\040(sid\040INTEGER\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040cid\040INTEGER\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040semesterid\040INTEGER\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040grade\040INTEGER,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040PRIMARY\040KEY\040(sid,\040cid,\040semesterid));
insert\040into\040student\040values\040(1,\040'Alice'),\040(2,\040'Bob'),\040(3,\040'Charlie'),\040(4,\040'Dave'),\040(5,\040'Emma');
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
DROP\040TABLE\040IF\040EXISTS\040Student;
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
DROP\040TABLESPACE\040'Student'
;
DROP\040TABLESPACE\040'Student';
DROP\040TABLESPACE\040'test.student';
DROP\040TABLESPACE\040test.student;
DROP\040TABLESPACE\040student;
DROP\040TABLESPACE\040Student;
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
use\040test
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
DROP\040TABLESPACE\040Student;
use\040test
show\040tables
;
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
DROP\040TABLE\040IF\040EXISTS\040Student;
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
DROP\040TABLESPACE\040'Student'
;
DROP\040TABLESPACE\040'Student';
DROP\040TABLESPACE\040Student;
DROP\040TABLESPACE\040test.Student;
CREATE\040hw1
;
CREATE\040hw1;
CREATE\040DATABASE\040hw1;
use\040hw1
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
CREATE\040TABLE\040Student\040(sid\040INTEGER\040PRIMARY\040KEY,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040sname\040VARCHAR(20));
CREATE\040TABLE\040CourseOffering\040(cid\040INTEGER\040NOT\040NULL,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040semesterid\040INTEGER\040NOT\040NULL,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040profid\040INTEGER,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040roomid\040INTEGER,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040PRIMARY\040key\040(cid,\040semesterid));
CREATE\040TABLE\040CourseOffering\040(cid\040INTEGER\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040semesterid\040INTEGER\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040profid\040INTEGER,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040roomid\040INTEGER,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040PRIMARY\040key\040(cid,\040semesterid));
CREATE\040TABLE\040Enrolled\040(sid\040INTEGER\040NOT\040NULL,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040cid\040INTEGER\040NOT\040NULL,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040semesterid\040INTEGER\040NOT\040NULL,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040grade\040INTEGER,
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040PRIMARY\040KEY\040(sid,\040cid,\040semesterid));
CREATE\040TABLE\040Enrolled\040(sid\040INTEGER\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040cid\040INTEGER\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040semesterid\040INTEGER\040NOT\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040grade\040INTEGER,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040PRIMARY\040KEY\040(sid,\040cid,\040semesterid));
insert\040into\040student\040values\040(1,\040'Alice'),\040(2,\040'Bob'),\040(3,\040'Charlie'),\040(4,\040'Dave'),\040(5,\040'Emma');
insert\040into\040courseoffering\040values\040(101,\0401,\0401,\0402),\040(101,\0402,\0401,\0402),\040(102,\0401,\0401,\0402),\040(103,\0401,\0401,\0402),\040(103,\0402,\0401,\0402);
Select\040temp2.cid,\040temp2.semesterid\040FROM\040
n
exit
use\040test
use\040hw1
show\040tables
;
Select\040temp2.cid,\040temp2.semesterid\040FROM\040
n
;
Select\040temp2.cid,\040temp2.semesterid\040FROM\040\040n;
Select\040temp2.cid,\040temp2.semesterid\040FROM\040(select\040E.cid,\040E.semesterid,\040count(*)\040as\040num\040from\040enrolled\040E\040group\040by\040E.semesterid,\040E.cid)\040as\040temp2,\040(select\040max(num)\040as\040max,temp1.cid\040from\040(select\040E.cid,E.semesterid,count(*)\040as\040num\040from\040enrolled\040E\040group\040by\040E.semesterid,\040E.cid)\040as\040temp1\040group\040by\040temp1.cid)\040as\040temp3\040where\040temp2.cid=temp3.cid\040AND\040temp2.num=temp3.max;
SELECT\040E1.cid,\040E2.semesterid\040FROM\040((\040SELECT\040cid,\040Max(total)\040AS\040maxtotal\040FROM\040(SELECT\040cid,\040semesterid,\040Count(sid)\040AS\040total\040FROM\040enrolled\040GROUP\040BY\040cid,\040semesterid)\040AS\040S\040GROUP\040BY\040cid)\040AS\040E1\040JOIN\040(SELECT\040cid,\040semesterid,\040Count(sid)\040AS\040total\040FROM\040enrolled\040GROUP\040BY\040cid,\040semesterid)\040AS\040E2\040ON\040E2.cid\040=\040E1.cid\040AND\040E2.total\040=\040E1.maxtotal);
select\040cid,\040semesterid
from\040(select\040cid,\040semesterid,\040count(semesterid\040and\040cid)
from\040enrolled
group\040by\040semesterid,\040cid
order\040by\040count(semesterid\040and\040cid)\040desc)\040name
group\040by\040cid;
select\040cid,\040semesterid\040from\040(select\040cid,\040semesterid,\040count(semesterid\040and\040cid)\040from\040enrolled\040group\040by\040semesterid,\040cid\040order\040by\040count(semesterid\040and\040cid)\040desc)\040name\040group\040by\040cid;
SELECT\040cid,semesterid
FROM\040(SELECT\040E.cid,E.semesterid,COUNT(*)\040AS\040max\040FROM\040Enrolled\040E\040
GROUP\040BY\040E.cid,E.semesterid)\040Derived1
WHERE\040max=(SELECT\040max(count1)\040AS\040max1\040
FROM\040(SELECT\040E1.cid,E1.semesterid,COUNT(*)\040AS\040count1\040FROM\040Enrolled\040E1\040GROUP\040BY\040E1.cid,E1.semesterid)\040Derived3\040
WHERE\040Derived1.cid=Derived3.cid
);
SELECT\040cid,semesterid\040FROM\040(SELECT\040E.cid,E.semesterid,COUNT(*)\040AS\040max\040FROM\040Enrolled\040E\040\040GROUP\040BY\040E.cid,E.semesterid)\040Derived1\040WHERE\040max=(SELECT\040max(count1)\040AS\040max1\040\040FROM\040(SELECT\040E1.cid,E1.semesterid,COUNT(*)\040AS\040count1\040FROM\040Enrolled\040E1\040GROUP\040BY\040E1.cid,E1.semesterid)\040Derived3\040\040WHERE\040Derived1.cid=Derived3.cid\040);
insert\040into\040enrolled\040values\040(1,\040101,\0401,\0408),\040(2,\040101,\0401,\04012),\040(3,\040101,\0401,\04013),\040(1,\040101,\0402,\0409),\040(5,\040101,\0402,\0408),\040(1,\040102,\0401,\0409),\040(2,\040102,\0401,\0409);
Select\040temp2.cid,\040temp2.semesterid\040FROM\040(select\040E.cid,\040E.semesterid,\040count(*)\040as\040num\040from\040enrolled\040E\040group\040by\040E.semesterid,\040E.cid)\040as\040temp2,\040(select\040max(num)\040as\040max,temp1.cid\040from\040(select\040E.cid,E.semesterid,count(*)\040as\040num\040from\040enrolled\040E\040group\040by\040E.semesterid,\040E.cid)\040as\040temp1\040group\040by\040temp1.cid)\040as\040temp3\040where\040temp2.cid=temp3.cid\040AND\040temp2.num=temp3.max;
SELECT\040E1.cid,\040E2.semesterid\040FROM\040((\040SELECT\040cid,\040Max(total)\040AS\040maxtotal\040FROM\040(SELECT\040cid,\040semesterid,\040Count(sid)\040AS\040total\040FROM\040enrolled\040GROUP\040BY\040cid,\040semesterid)\040AS\040S\040GROUP\040BY\040cid)\040AS\040E1\040JOIN\040(SELECT\040cid,\040semesterid,\040Count(sid)\040AS\040total\040FROM\040enrolled\040GROUP\040BY\040cid,\040semesterid)\040AS\040E2\040ON\040E2.cid\040=\040E1.cid\040AND\040E2.total\040=\040E1.maxtotal);
select\040cid,\040semesterid
from\040(select\040cid,\040semesterid,\040count(semesterid\040and\040cid)
from\040enrolled
group\040by\040semesterid,\040cid
order\040by\040count(semesterid\040and\040cid)\040desc)\040name
group\040by\040cid;
select\040cid,\040semesterid\040from\040(select\040cid,\040semesterid,\040count(semesterid\040and\040cid)\040from\040enrolled\040group\040by\040semesterid,\040cid\040order\040by\040count(semesterid\040and\040cid)\040desc)\040name\040group\040by\040cid;
SELECT\040cid,semesterid
FROM\040(SELECT\040E.cid,E.semesterid,COUNT(*)\040AS\040max\040FROM\040Enrolled\040E\040
GROUP\040BY\040E.cid,E.semesterid)\040Derived1
WHERE\040max=(SELECT\040max(count1)\040AS\040max1\040
FROM\040(SELECT\040E1.cid,E1.semesterid,COUNT(*)\040AS\040count1\040FROM\040Enrolled\040E1\040GROUP\040BY\040E1.cid,E1.semesterid)\040Derived3\040
WHERE\040Derived1.cid=Derived3.cid
);
SELECT\040cid,semesterid\040FROM\040(SELECT\040E.cid,E.semesterid,COUNT(*)\040AS\040max\040FROM\040Enrolled\040E\040\040GROUP\040BY\040E.cid,E.semesterid)\040Derived1\040WHERE\040max=(SELECT\040max(count1)\040AS\040max1\040\040FROM\040(SELECT\040E1.cid,E1.semesterid,COUNT(*)\040AS\040count1\040FROM\040Enrolled\040E1\040GROUP\040BY\040E1.cid,E1.semesterid)\040Derived3\040\040WHERE\040Derived1.cid=Derived3.cid\040);
SELECT\040c.cid,\040c.semesterid\040FROM\040(select\040count(sid)\040as\040sids,\040cid,\040semesterid\040from\040Enrolled\040group\040by\040cid,\040semesterid)\040as\040c\040INNER\040JOIN\040(select\040c.cid,\040max(c.sids)\040as\040mx\040FROM\040(select\040count(sid)\040as\040sids,\040cid,\040semesterid\040from\040Enrolled\040group\040by\040cid,\040semesterid)\040as\040c\040group\040by\040cid)\040as\040m\040ON\040m.mx\040=\040c.sids\040AND\040m.cid=c.cid;
delete\040from\040enrolled;
insert\040into\040enrolled\040values\040(1,\040101,\0401,\0408),\040(2,\040101,\0401,\04012),\040(3,\040101,\0401,\04013),\040(1,\040101,\0402,\0409),\040(5,\040101,\0402,\0408),\040(1,\040102,\0401,\0409),\040(4,\040101,\0402,\0409),\040(2,\040102,\0401,\0409);
SELECT\040c.cid,\040c.semesterid\040FROM\040(select\040count(sid)\040as\040sids,\040cid,\040semesterid\040from\040Enrolled\040group\040by\040cid,\040semesterid)\040as\040c\040INNER\040JOIN\040(select\040c.cid,\040max(c.sids)\040as\040mx\040FROM\040(select\040count(sid)\040as\040sids,\040cid,\040semesterid\040from\040Enrolled\040group\040by\040cid,\040semesterid)\040as\040c\040group\040by\040cid)\040as\040m\040ON\040m.mx\040=\040c.sids\040AND\040m.cid=c.cid;
SELECT\040cid,semesterid
FROM\040(SELECT\040E.cid,E.semesterid,COUNT(*)\040AS\040max\040FROM\040Enrolled\040E\040
GROUP\040BY\040E.cid,E.semesterid)\040Derived1
WHERE\040max=(SELECT\040max(count1)\040AS\040max1\040
FROM\040(SELECT\040E1.cid,E1.semesterid,COUNT(*)\040AS\040count1\040FROM\040Enrolled\040E1\040GROUP\040BY\040E1.cid,E1.semesterid)\040Derived3\040
WHERE\040Derived1.cid=Derived3.cid
)
;
SELECT\040cid,semesterid\040FROM\040(SELECT\040E.cid,E.semesterid,COUNT(*)\040AS\040max\040FROM\040Enrolled\040E\040\040GROUP\040BY\040E.cid,E.semesterid)\040Derived1\040WHERE\040max=(SELECT\040max(count1)\040AS\040max1\040\040FROM\040(SELECT\040E1.cid,E1.semesterid,COUNT(*)\040AS\040count1\040FROM\040Enrolled\040E1\040GROUP\040BY\040E1.cid,E1.semesterid)\040Derived3\040\040WHERE\040Derived1.cid=Derived3.cid\040);
select\040cid,\040semesterid
from\040(select\040cid,\040semesterid,\040count(semesterid\040and\040cid)
from\040enrolled
group\040by\040semesterid,\040cid
order\040by\040count(semesterid\040and\040cid)\040desc)\040name
group\040by\040cid;
select\040cid,\040semesterid\040from\040(select\040cid,\040semesterid,\040count(semesterid\040and\040cid)\040from\040enrolled\040group\040by\040semesterid,\040cid\040order\040by\040count(semesterid\040and\040cid)\040desc)\040name\040group\040by\040cid;
SELECT\040E1.cid,\040E2.semesterid\040FROM\040((\040SELECT\040cid,\040Max(total)\040AS\040maxtotal\040FROM\040(SELECT\040cid,\040semesterid,\040Count(sid)\040AS\040total\040FROM\040enrolled\040GROUP\040BY\040cid,\040semesterid)\040AS\040S\040GROUP\040BY\040cid)\040AS\040E1\040JOIN\040(SELECT\040cid,\040semesterid,\040Count(sid)\040AS\040total\040FROM\040enrolled\040GROUP\040BY\040cid,\040semesterid)\040AS\040E2\040ON\040E2.cid\040=\040E1.cid\040AND\040E2.total\040=\040E1.maxtotal);
Select\040temp2.cid,\040temp2.semesterid\040FROM\040(select\040E.cid,\040E.semesterid,\040count(*)\040as\040num\040from\040enrolled\040E\040group\040by\040E.semesterid,\040E.cid)\040as\040temp2,\040(select\040max(num)\040as\040max,temp1.cid\040from\040(select\040E.cid,E.semesterid,count(*)\040as\040num\040from\040enrolled\040E\040group\040by\040E.semesterid,\040E.cid)\040as\040temp1\040group\040by\040temp1.cid)\040as\040temp3\040where\040temp2.cid=temp3.cid\040AND\040temp2.num=temp3.max;
DELETE\040FROM\040Enrolled;
Select\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2
WHERE\040s1.sid>s2.sid
Group\040By\040s1.sid,\040s2.sid
Having\0400\040=\040(
Select\040count(*)
From\040enrolled\040e1,\040enrolled\040e2
Where\040e1.sid=s1.sid\040AND\040e2.sid=s2.sid\040
AND\040e1.cid=e2.cid
\040);
Select\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2\040WHERE\040s1.sid>s2.sid\040Group\040By\040s1.sid,\040s2.sid\040Having\0400\040=\040(\040Select\040count(*)\040From\040enrolled\040e1,\040enrolled\040e2\040Where\040e1.sid=s1.sid\040AND\040e2.sid=s2.sid\040\040AND\040e1.cid=e2.cid\040\040);
delete\040from\040enrolled;
insert\040into\040enrolled\040values\040(1,\040101,\0401,\0408),\040(2,\040101,\0402,\04012),\040(3,\040101,\0401,\04013),\040(4,\040101,\0401,\04012),\040(5,\040101,\0402,\04013);
DELETE\040FROM\040Enrolled;
use\040hw1
SELECT\040DISTINCT\040E1.sid\040AS\040sid1,\040E2.sid\040AS\040sid2\040FROM\040enrolled\040E1\040JOIN\040enrolled\040E2\040WHERE\040E1.sid\040<\040E2.sid\040AND\040(E1.sid,\040E2.sid)\040NOT\040IN\040(SELECT\040DISTINCT\040E3.sid\040AS\040sid3,\040E4.sid\040AS\040sid4\040FROM\040enrolled\040E3\040JOIN\040enrolled\040E4\040ON\040E3.cid=E4.cid\040WHERE\040E3.sid<E4.sid)
;
show\040tables
;
Select\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2
WHERE\040s1.sid>s2.sid
Group\040By\040s1.sid,\040s2.sid
Having\0400\040=\040(
Select\040count(*)
From\040enrolled\040e1,\040enrolled\040e2
Where\040e1.sid=s1.sid\040AND\040e2.sid=s2.sid\040
AND\040e1.cid=e2.cid
\040);
Select\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2\040WHERE\040s1.sid>s2.sid\040Group\040By\040s1.sid,\040s2.sid\040Having\0400\040=\040(\040Select\040count(*)\040From\040enrolled\040e1,\040enrolled\040e2\040Where\040e1.sid=s1.sid\040AND\040e2.sid=s2.sid\040\040AND\040e1.cid=e2.cid\040\040);
SELECT\040DISTINCT\040E1.sid\040AS\040sid1,\040E2.sid\040AS\040sid2\040FROM\040enrolled\040E1\040JOIN\040enrolled\040E2\040WHERE\040E1.sid\040<\040E2.sid\040AND\040(E1.sid,\040E2.sid)\040NOT\040IN\040(SELECT\040DISTINCT\040E3.sid\040AS\040sid3,\040E4.sid\040AS\040sid4\040FROM\040enrolled\040E3\040JOIN\040enrolled\040E4\040ON\040E3.cid=E4.cid\040WHERE\040E3.sid<E4.sid)
;
select\040s1.sid,\040s2.sid
from\040student\040as\040s1,\040student\040as\040s2
where\040(s1.sid,\040s2.sid)\040not\040in\040(select\040c1.sid,\040c2.sid
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040from\040enrolled\040c1\040join
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040enrolled\040c2
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040on\040c1.cid\040=\040c2.cid\040and
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040c1.sid\040<\040c2.sid)
;
select\040s1.sid,\040s2.sid\040from\040student\040as\040s1,\040student\040as\040s2\040where\040(s1.sid,\040s2.sid)\040not\040in\040(select\040c1.sid,\040c2.sid\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040from\040enrolled\040c1\040join\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040enrolled\040c2\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040on\040c1.cid\040=\040c2.cid\040and\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040c1.sid\040<\040c2.sid);
SELECT\040cid,semesterid
FROM\040(SELECT\040E.cid,E.semesterid,COUNT(*)\040AS\040max\040FROM\040Enrolled\040E\040
GROUP\040BY\040E.cid,E.semesterid)\040Derived1
WHERE\040max=(SELECT\040max(count1)\040AS\040max1\040
FROM\040(SELECT\040E1.cid,E1.semesterid,COUNT(*)\040AS\040count1\040FROM\040Enrolled\040E1\040GROUP\040BY\040E1.cid,E1.semesterid)\040Derived3\040
WHERE\040Derived1.cid=Derived3.cid
);
SELECT\040cid,semesterid\040FROM\040(SELECT\040E.cid,E.semesterid,COUNT(*)\040AS\040max\040FROM\040Enrolled\040E\040\040GROUP\040BY\040E.cid,E.semesterid)\040Derived1\040WHERE\040max=(SELECT\040max(count1)\040AS\040max1\040\040FROM\040(SELECT\040E1.cid,E1.semesterid,COUNT(*)\040AS\040count1\040FROM\040Enrolled\040E1\040GROUP\040BY\040E1.cid,E1.semesterid)\040Derived3\040\040WHERE\040Derived1.cid=Derived3.cid\040);
SELECT\040St1.sid,\040St2.sid\040
FROM\040Student\040St1,\040Student\040St2
WHERE\040St1.sid<St2.sid\040AND\040(St1.sid,\040St2.sid)\040NOT\040IN\040
(SELECT\040E1.sid,\040E2.sid
FROM\040Enrolled\040E1,\040Enrolled\040E2
WHERE\040E1.sid\040<\040E2.sid\040AND\040E1.cid\040=\040E2.cid)
;
SELECT\040St1.sid,\040St2.sid\040\040FROM\040Student\040St1,\040Student\040St2\040WHERE\040St1.sid<St2.sid\040AND\040(St1.sid,\040St2.sid)\040NOT\040IN\040\040(SELECT\040E1.sid,\040E2.sid\040FROM\040Enrolled\040E1,\040Enrolled\040E2\040WHERE\040E1.sid\040<\040E2.sid\040AND\040E1.cid\040=\040E2.cid);
select\040distinct\040e.sid,\040r.sid\040from\040Student\040e,\040Student\040r\040where\040e.sid\040>\040r.sid\040AND\040(e.sid,r.sid)\040not\040in\040(select\040ef.sid,\040rs.sid\040from\040Enrolled\040ef,\040Enrolled\040rs\040where\040ef.sid\040>\040rs.sid\040AND\040ef.cid\040=\040rs.cid);
delete\040from\040enrolled;
insert\040into\040enrolled\040values\040(1,\040101,\0401,\0408),\040(2,\040101,\0402,\04012),\040(3,\040101,\0401,\04013),\040(4,\040101,\0401,\04012),\040(5,\040101,\0402,\04013);
select\040distinct\040e.sid,\040r.sid\040from\040Student\040e,\040Student\040r\040where\040e.sid\040>\040r.sid\040AND\040(e.sid,r.sid)\040not\040in\040(select\040ef.sid,\040rs.sid\040from\040Enrolled\040ef,\040Enrolled\040rs\040where\040ef.sid\040>\040rs.sid\040AND\040ef.cid\040=\040rs.cid);
SELECT\040St1.sid,\040St2.sid\040
FROM\040Student\040St1,\040Student\040St2
WHERE\040St1.sid<St2.sid\040AND\040(St1.sid,\040St2.sid)\040NOT\040IN\040
(SELECT\040E1.sid,\040E2.sid
FROM\040Enrolled\040E1,\040Enrolled\040E2
WHERE\040E1.sid\040<\040E2.sid\040AND\040E1.cid\040=\040E2.cid);
SELECT\040St1.sid,\040St2.sid\040\040FROM\040Student\040St1,\040Student\040St2\040WHERE\040St1.sid<St2.sid\040AND\040(St1.sid,\040St2.sid)\040NOT\040IN\040\040(SELECT\040E1.sid,\040E2.sid\040FROM\040Enrolled\040E1,\040Enrolled\040E2\040WHERE\040E1.sid\040<\040E2.sid\040AND\040E1.cid\040=\040E2.cid);
select\040s1.sid,\040s2.sid
from\040student\040as\040s1,\040student\040as\040s2
where\040(s1.sid,\040s2.sid)\040not\040in\040(select\040c1.sid,\040c2.sid
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040from\040enrolled\040c1\040join
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040enrolled\040c2
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040on\040c1.cid\040=\040c2.cid\040and
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040c1.sid\040<\040c2.sid);
select\040s1.sid,\040s2.sid\040from\040student\040as\040s1,\040student\040as\040s2\040where\040(s1.sid,\040s2.sid)\040not\040in\040(select\040c1.sid,\040c2.sid\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040from\040enrolled\040c1\040join\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040enrolled\040c2\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040on\040c1.cid\040=\040c2.cid\040and\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040c1.sid\040<\040c2.sid);
SELECT\040DISTINCT\040E1.sid\040AS\040sid1,\040E2.sid\040AS\040sid2\040FROM\040enrolled\040E1\040JOIN\040enrolled\040E2\040WHERE\040E1.sid\040<\040E2.sid\040AND\040(E1.sid,\040E2.sid)\040NOT\040IN\040(SELECT\040DISTINCT\040E3.sid\040AS\040sid3,\040E4.sid\040AS\040sid4\040FROM\040enrolled\040E3\040JOIN\040enrolled\040E4\040ON\040E3.cid=E4.cid\040WHERE\040E3.sid<E4.sid)
;
Select\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2
WHERE\040s1.sid>s2.sid
Group\040By\040s1.sid,\040s2.sid
Having\0400\040=\040(
Select\040count(*)
From\040enrolled\040e1,\040enrolled\040e2
Where\040e1.sid=s1.sid\040AND\040e2.sid=s2.sid\040
AND\040e1.cid=e2.cid
\040);
Select\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2\040WHERE\040s1.sid>s2.sid\040Group\040By\040s1.sid,\040s2.sid\040Having\0400\040=\040(\040Select\040count(*)\040From\040enrolled\040e1,\040enrolled\040e2\040Where\040e1.sid=s1.sid\040AND\040e2.sid=s2.sid\040\040AND\040e1.cid=e2.cid\040\040);
delete\040from\040enrolled;
insert\040into\040enrolled\040values\040(1,\040101,\0401,\0408),\040(2,\040101,\0401,\04012),\040(1,\040102,\0401,\04013),\040(3,\040102,\0401,\04012);
Select\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2
WHERE\040s1.sid>s2.sid
Group\040By\040s1.sid,\040s2.sid
Having\0400\040=\040(
Select\040count(*)
From\040enrolled\040e1,\040enrolled\040e2
Where\040e1.sid=s1.sid\040AND\040e2.sid=s2.sid\040
AND\040e1.cid=e2.cid
\040);
Select\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2\040WHERE\040s1.sid>s2.sid\040Group\040By\040s1.sid,\040s2.sid\040Having\0400\040=\040(\040Select\040count(*)\040From\040enrolled\040e1,\040enrolled\040e2\040Where\040e1.sid=s1.sid\040AND\040e2.sid=s2.sid\040\040AND\040e1.cid=e2.cid\040\040);
SELECT\040DISTINCT\040E1.sid\040AS\040sid1,\040E2.sid\040AS\040sid2\040FROM\040enrolled\040E1\040JOIN\040enrolled\040E2\040WHERE\040E1.sid\040<\040E2.sid\040AND\040(E1.sid,\040E2.sid)\040NOT\040IN\040(SELECT\040DISTINCT\040E3.sid\040AS\040sid3,\040E4.sid\040AS\040sid4\040FROM\040enrolled\040E3\040JOIN\040enrolled\040E4\040ON\040E3.cid=E4.cid\040WHERE\040E3.sid<E4.sid)
;
select\040s1.sid,\040s2.sid
from\040student\040as\040s1,\040student\040as\040s2
where\040(s1.sid,\040s2.sid)\040not\040in\040(select\040c1.sid,\040c2.sid
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040from\040enrolled\040c1\040join
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040enrolled\040c2
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040on\040c1.cid\040=\040c2.cid\040and
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040c1.sid\040<\040c2.sid);
select\040s1.sid,\040s2.sid\040from\040student\040as\040s1,\040student\040as\040s2\040where\040(s1.sid,\040s2.sid)\040not\040in\040(select\040c1.sid,\040c2.sid\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040from\040enrolled\040c1\040join\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040enrolled\040c2\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040on\040c1.cid\040=\040c2.cid\040and\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040c1.sid\040<\040c2.sid);
select\040s1.sid,\040s2.sid
from\040student\040as\040s1,\040student\040as\040s2
where\040(s1.sid,\040s2.sid)\040not\040in\040(select\040c1.sid,\040c2.sid
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040from\040enrolled\040c1\040join
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040enrolled\040c2
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040on\040c1.cid\040=\040c2.cid\040and
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040c1.sid\040<\040c2.sid)
and\040s1.sid\040<\040s2.sid;
select\040s1.sid,\040s2.sid\040from\040student\040as\040s1,\040student\040as\040s2\040where\040(s1.sid,\040s2.sid)\040not\040in\040(select\040c1.sid,\040c2.sid\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040from\040enrolled\040c1\040join\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040enrolled\040c2\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040on\040c1.cid\040=\040c2.cid\040and\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040c1.sid\040<\040c2.sid)\040and\040s1.sid\040<\040s2.sid;
delete\040from\040enrolled;
select\040s1.sid,\040s2.sid
from\040student\040as\040s1,\040student\040as\040s2
where\040(s1.sid,\040s2.sid)\040not\040in\040(select\040c1.sid,\040c2.sid
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040from\040enrolled\040c1\040join
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040enrolled\040c2
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040on\040c1.cid\040=\040c2.cid\040and
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040c1.sid\040<\040c2.sid)
and\040s1.sid\040<\040s2.sid;
select\040s1.sid,\040s2.sid\040from\040student\040as\040s1,\040student\040as\040s2\040where\040(s1.sid,\040s2.sid)\040not\040in\040(select\040c1.sid,\040c2.sid\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040from\040enrolled\040c1\040join\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040enrolled\040c2\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040on\040c1.cid\040=\040c2.cid\040and\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040c1.sid\040<\040c2.sid)\040and\040s1.sid\040<\040s2.sid;
delete\040from\040enrolled;
insert\040into\040enrolled\040values\040(1,\040101,\0401,\0408),\040(2,\040101,\0401,\04012),\040(1,\040102,\0401,\04013),\040(3,\040102,\0401,\04012);
SELECT\040St1.sid,\040St2.sid\040
FROM\040Student\040St1,\040Student\040St2
WHERE\040St1.sid<St2.sid\040AND\040(St1.sid,\040St2.sid)\040NOT\040IN\040
(SELECT\040E1.sid,\040E2.sid
FROM\040Enrolled\040E1,\040Enrolled\040E2
WHERE\040E1.sid\040<\040E2.sid\040AND\040E1.cid\040=\040E2.cid);
SELECT\040St1.sid,\040St2.sid\040\040FROM\040Student\040St1,\040Student\040St2\040WHERE\040St1.sid<St2.sid\040AND\040(St1.sid,\040St2.sid)\040NOT\040IN\040\040(SELECT\040E1.sid,\040E2.sid\040FROM\040Enrolled\040E1,\040Enrolled\040E2\040WHERE\040E1.sid\040<\040E2.sid\040AND\040E1.cid\040=\040E2.cid);
select\040distinct\040e.sid,\040r.sid\040from\040Student\040e,\040Student\040r\040where\040e.sid\040>\040r.sid\040AND\040(e.sid,r.sid)\040not\040in\040(select\040ef.sid,\040rs.sid\040from\040Enrolled\040ef,\040Enrolled\040rs\040where\040ef.sid\040>\040rs.sid\040AND\040ef.cid\040=\040rs.cid);
SELECT\040DISTINCT\040E1.sid\040AS\040sid1,\040E2.sid\040AS\040sid2\040FROM\040enrolled\040E1\040JOIN\040enrolled\040E2\040WHERE\040E1.sid\040<\040E2.sid\040AND\040(E1.sid,\040E2.sid)\040NOT\040IN\040(SELECT\040DISTINCT\040E3.sid\040AS\040sid3,\040E4.sid\040AS\040sid4\040FROM\040enrolled\040E3\040JOIN\040enrolled\040E4\040ON\040E3.cid=E4.cid\040WHERE\040E3.sid<E4.sid)
;
DELETE\040FROM\040Enrolled;
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2
WHERE\040s1.sid>s2.sid
AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
)
UNION
(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040
WHERE\040S1.sid>S2.sid\040
group\040by\040S1.sid,\040S2.sid\040
having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)
);
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2\040WHERE\040s1.sid>s2.sid\040AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040)\040\040UNION\040\040(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040\040WHERE\040S1.sid>S2.sid\040\040group\040by\040S1.sid,\040S2.sid\040\040having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)\040\040);
delete\040from\040enrolled;
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2
WHERE\040s1.sid>s2.sid
AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
)
UNION
(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040
WHERE\040S1.sid>S2.sid\040
group\040by\040S1.sid,\040S2.sid\040
having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)
);
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2\040WHERE\040s1.sid>s2.sid\040AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040)\040\040UNION\040\040(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040\040WHERE\040S1.sid>S2.sid\040\040group\040by\040S1.sid,\040S2.sid\040\040having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)\040\040);
DELETE\040FROM\040Enrolled;
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2
WHERE\040s1.sid>s2.sid
AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
)
UNION
(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040
WHERE\040S1.sid>S2.sid\040
group\040by\040S1.sid,\040S2.sid\040
having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)
);
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2\040WHERE\040s1.sid>s2.sid\040AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040)\040\040UNION\040\040(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040\040WHERE\040S1.sid>S2.sid\040\040group\040by\040S1.sid,\040S2.sid\040\040having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)\040\040);
SELECT\040E1.sid,\040E2.sid\040FROM\040(SELECT\040DISTINCT\040sid,\040GROUP_CONCAT(\040DISTINCT\040cid\040ORDER\040BY\040cid)\040AS\040cids\040FROM\040enrolled\040GROUP\040BY\040sid)\040E1\040JOIN\040(SELECT\040DISTINCT\040sid,\040GROUP_CONCAT(\040DISTINCT\040cid\040ORDER\040BY\040cid)\040AS\040cids\040FROM\040enrolled\040GROUP\040BY\040sid)\040E2\040ON\040E1.sid\040<\040E2.sid\040WHERE\040E1.cids\040=\040E2.cids\040ORDER\040BY\040E1.sid;
(select\040s1.sid,\040s2.sid
from\040enrolled\040as\040s1,\040enrolled\040as\040s2
where\040s1.sid\040>\040s2.sid
group\040by\040s1.sid,\040s2.sid
having\040group_concat(s1.cid\040order\040by\040s1.cid)\040=\040group_concat(s2.cid\040order\040by\040s2.cid))
union
(select\040s1.sid,\040s2.sid
from\040student\040as\040s1,\040student\040as\040s2,\040enrolled\040as\040e1
where\040s1.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s2.sid\040not\040in\040(select\040sid\040from\040enrolled)
and\040s1.sid\040<\040s2.sid
group\040by\040s1.sid,\040s2.sid);
(select\040s1.sid,\040s2.sid\040from\040enrolled\040as\040s1,\040enrolled\040as\040s2\040where\040s1.sid\040>\040s2.sid\040group\040by\040s1.sid,\040s2.sid\040having\040group_concat(s1.cid\040order\040by\040s1.cid)\040=\040group_concat(s2.cid\040order\040by\040s2.cid))\040union\040(select\040s1.sid,\040s2.sid\040from\040student\040as\040s1,\040student\040as\040s2,\040enrolled\040as\040e1\040where\040s1.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s2.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s1.sid\040<\040s2.sid\040group\040by\040s1.sid,\040s2.sid);
SELECT\040DISTINCT\040E3.sid\040,\040E4.sid\040
FROM\040ENROLLED\040E3,\040ENROLLED\040E4\040
WHERE\040(E3.sid\040<E4.sid)\040
AND\040E3.cid\040=\040E4.cid
AND\040(E3.sid,E4.sid)\040NOT\040IN\040(
SELECT\040DISTINCT\040E1.sid\040,\040E2.sid\040
FROM\040ENROLLED\040E1\040,\040ENROLLED\040E2\040
WHERE\040E1.sid\040!=E2.sid\040
AND\040E3.sid\040=\040E1.sid\040
AND\040E4.sid\040=\040E2.sid\040
AND\040(E1.cid\040NOT\040IN\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E2.sid)\040
OR\040E2.cid\040NOT\040IN\040
(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E1.sid)))\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040
UNION
SELECT\040DISTINCT\040T1.sid,T2.sid\040FROM
(SELECT\040S1.sid\040FROM\040STUDENT\040S1\040LEFT\040JOIN\040ENROLLED\040E1\040ON\040S1.sid\040=\040E1.sid\040WHERE\040E1.sid\040IS\040NULL)\040T1\040JOIN
(SELECT\040S2.sid\040FROM\040STUDENT\040S2\040LEFT\040JOIN\040ENROLLED\040E2\040ON\040S2.sid\040=\040E2.sid\040WHERE\040E2.sid\040IS\040NULL\040)\040T2
WHERE\040T1.sid\040<\040T2.sid;
SELECT\040DISTINCT\040E3.sid\040,\040E4.sid\040\040FROM\040ENROLLED\040E3,\040ENROLLED\040E4\040\040WHERE\040(E3.sid\040<E4.sid)\040\040AND\040E3.cid\040=\040E4.cid\040AND\040(E3.sid,E4.sid)\040NOT\040IN\040(\040SELECT\040DISTINCT\040E1.sid\040,\040E2.sid\040\040FROM\040ENROLLED\040E1\040,\040ENROLLED\040E2\040\040WHERE\040E1.sid\040!=E2.sid\040\040AND\040E3.sid\040=\040E1.sid\040\040AND\040E4.sid\040=\040E2.sid\040\040AND\040(E1.cid\040NOT\040IN\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E2.sid)\040\040OR\040E2.cid\040NOT\040IN\040\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E1.sid)))\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040UNION\040SELECT\040DISTINCT\040T1.sid,T2.sid\040FROM\040(SELECT\040S1.sid\040FROM\040STUDENT\040S1\040LEFT\040JOIN\040ENROLLED\040E1\040ON\040S1.sid\040=\040E1.sid\040WHERE\040E1.sid\040IS\040NULL)\040T1\040JOIN\040(SELECT\040S2.sid\040FROM\040STUDENT\040S2\040LEFT\040JOIN\040ENROLLED\040E2\040ON\040S2.sid\040=\040E2.sid\040WHERE\040E2.sid\040IS\040NULL\040)\040T2\040WHERE\040T1.sid\040<\040T2.sid;
SELECT\040Student1,\040Student2\040FROM(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040WHERE\040(AllTuples.Student1,\040AllTuples.Student2)\040NOT\040IN(\040SELECT\040Student1,\040Student2\040FROM(\040SELECT\040*\040FROM(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu1Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student1\040=\040E.sid)\040AS\040Stu1CoursesTable\040WHERE\040(Stu1CoursesTable.Student1,\040Stu1CoursesTable.Student2,\040Stu1Courses)\040NOT\040IN\040(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu2Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student2\040=\040E.sid)\040\040UNION\040\040SELECT\040*\040FROM(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu2Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student2\040=\040E.sid)\040AS\040Stu2CoursesTable\040WHERE\040(Stu2CoursesTable.Student1,\040Stu2CoursesTable.Student2,\040Stu2Courses)\040NOT\040IN\040(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu1Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student1\040=\040E.sid))\040AS\040TableWithCoursesNotTakenByBoth);
delete\040from\040enrolled;
insert\040into\040enrolled\040values\040(1,\040101,\0401,\0408),\040(2,\040101,\0402,\04012),\040(3,\040101,\0401,\04013),\040(4,\040101,\0401,\04012),\040(5,\040101,\0402,\04013);
SELECT\040Student1,\040Student2\040FROM(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040WHERE\040(AllTuples.Student1,\040AllTuples.Student2)\040NOT\040IN(\040SELECT\040Student1,\040Student2\040FROM(\040SELECT\040*\040FROM(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu1Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student1\040=\040E.sid)\040AS\040Stu1CoursesTable\040WHERE\040(Stu1CoursesTable.Student1,\040Stu1CoursesTable.Student2,\040Stu1Courses)\040NOT\040IN\040(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu2Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student2\040=\040E.sid)\040\040UNION\040\040SELECT\040*\040FROM(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu2Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student2\040=\040E.sid)\040AS\040Stu2CoursesTable\040WHERE\040(Stu2CoursesTable.Student1,\040Stu2CoursesTable.Student2,\040Stu2Courses)\040NOT\040IN\040(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu1Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student1\040=\040E.sid))\040AS\040TableWithCoursesNotTakenByBoth);
SELECT\040DISTINCT\040E3.sid\040,\040E4.sid\040
FROM\040ENROLLED\040E3,\040ENROLLED\040E4\040
WHERE\040(E3.sid\040<E4.sid)\040
AND\040E3.cid\040=\040E4.cid
AND\040(E3.sid,E4.sid)\040NOT\040IN\040(
SELECT\040DISTINCT\040E1.sid\040,\040E2.sid\040
FROM\040ENROLLED\040E1\040,\040ENROLLED\040E2\040
WHERE\040E1.sid\040!=E2.sid\040
AND\040E3.sid\040=\040E1.sid\040
AND\040E4.sid\040=\040E2.sid\040
AND\040(E1.cid\040NOT\040IN\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E2.sid)\040
OR\040E2.cid\040NOT\040IN\040
(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E1.sid)))\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040
UNION
SELECT\040DISTINCT\040T1.sid,T2.sid\040FROM
(SELECT\040S1.sid\040FROM\040STUDENT\040S1\040LEFT\040JOIN\040ENROLLED\040E1\040ON\040S1.sid\040=\040E1.sid\040WHERE\040E1.sid\040IS\040NULL)\040T1\040JOIN
(SELECT\040S2.sid\040FROM\040STUDENT\040S2\040LEFT\040JOIN\040ENROLLED\040E2\040ON\040S2.sid\040=\040E2.sid\040WHERE\040E2.sid\040IS\040NULL\040)\040T2
WHERE\040T1.sid\040<\040T2.sid;
SELECT\040DISTINCT\040E3.sid\040,\040E4.sid\040\040FROM\040ENROLLED\040E3,\040ENROLLED\040E4\040\040WHERE\040(E3.sid\040<E4.sid)\040\040AND\040E3.cid\040=\040E4.cid\040AND\040(E3.sid,E4.sid)\040NOT\040IN\040(\040SELECT\040DISTINCT\040E1.sid\040,\040E2.sid\040\040FROM\040ENROLLED\040E1\040,\040ENROLLED\040E2\040\040WHERE\040E1.sid\040!=E2.sid\040\040AND\040E3.sid\040=\040E1.sid\040\040AND\040E4.sid\040=\040E2.sid\040\040AND\040(E1.cid\040NOT\040IN\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E2.sid)\040\040OR\040E2.cid\040NOT\040IN\040\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E1.sid)))\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040UNION\040SELECT\040DISTINCT\040T1.sid,T2.sid\040FROM\040(SELECT\040S1.sid\040FROM\040STUDENT\040S1\040LEFT\040JOIN\040ENROLLED\040E1\040ON\040S1.sid\040=\040E1.sid\040WHERE\040E1.sid\040IS\040NULL)\040T1\040JOIN\040(SELECT\040S2.sid\040FROM\040STUDENT\040S2\040LEFT\040JOIN\040ENROLLED\040E2\040ON\040S2.sid\040=\040E2.sid\040WHERE\040E2.sid\040IS\040NULL\040)\040T2\040WHERE\040T1.sid\040<\040T2.sid;
(select\040s1.sid,\040s2.sid
from\040enrolled\040as\040s1,\040enrolled\040as\040s2
where\040s1.sid\040>\040s2.sid
group\040by\040s1.sid,\040s2.sid
having\040group_concat(s1.cid\040order\040by\040s1.cid)\040=\040group_concat(s2.cid\040order\040by\040s2.cid))
union
(select\040s1.sid,\040s2.sid
from\040student\040as\040s1,\040student\040as\040s2,\040enrolled\040as\040e1
where\040s1.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s2.sid\040not\040in\040(select\040sid\040from\040enrolled)
and\040s1.sid\040<\040s2.sid
group\040by\040s1.sid,\040s2.sid);
(select\040s1.sid,\040s2.sid\040from\040enrolled\040as\040s1,\040enrolled\040as\040s2\040where\040s1.sid\040>\040s2.sid\040group\040by\040s1.sid,\040s2.sid\040having\040group_concat(s1.cid\040order\040by\040s1.cid)\040=\040group_concat(s2.cid\040order\040by\040s2.cid))\040union\040(select\040s1.sid,\040s2.sid\040from\040student\040as\040s1,\040student\040as\040s2,\040enrolled\040as\040e1\040where\040s1.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s2.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s1.sid\040<\040s2.sid\040group\040by\040s1.sid,\040s2.sid);
SELECT\040E1.sid,\040E2.sid\040FROM\040(SELECT\040DISTINCT\040sid,\040GROUP_CONCAT(\040DISTINCT\040cid\040ORDER\040BY\040cid)\040AS\040cids\040FROM\040enrolled\040GROUP\040BY\040sid)\040E1\040JOIN\040(SELECT\040DISTINCT\040sid,\040GROUP_CONCAT(\040DISTINCT\040cid\040ORDER\040BY\040cid)\040AS\040cids\040FROM\040enrolled\040GROUP\040BY\040sid)\040E2\040ON\040E1.sid\040<\040E2.sid\040WHERE\040E1.cids\040=\040E2.cids\040ORDER\040BY\040E1.sid;
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2
WHERE\040s1.sid>s2.sid
AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
)
UNION
(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040
WHERE\040S1.sid>S2.sid\040
group\040by\040S1.sid,\040S2.sid\040
having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)
);
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2\040WHERE\040s1.sid>s2.sid\040AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040)\040\040UNION\040\040(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040\040WHERE\040S1.sid>S2.sid\040\040group\040by\040S1.sid,\040S2.sid\040\040having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)\040\040);
delete\040from\040enrolled;
insert\040into\040enrolled\040values\040(1,\040101,\0401,\0408),\040(2,\040101,\0402,\04012),\040(3,\040102,\0401,\04013),\040(4,\040102,\0401,\04012),\040(5,\040101,\0402,\04013);
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2
WHERE\040s1.sid>s2.sid
AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
)
UNION
(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040
WHERE\040S1.sid>S2.sid\040
group\040by\040S1.sid,\040S2.sid\040
having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)
);
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2\040WHERE\040s1.sid>s2.sid\040AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040)\040\040UNION\040\040(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040\040WHERE\040S1.sid>S2.sid\040\040group\040by\040S1.sid,\040S2.sid\040\040having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)\040\040);
SELECT\040E1.sid,\040E2.sid\040FROM\040(SELECT\040DISTINCT\040sid,\040GROUP_CONCAT(\040DISTINCT\040cid\040ORDER\040BY\040cid)\040AS\040cids\040FROM\040enrolled\040GROUP\040BY\040sid)\040E1\040JOIN\040(SELECT\040DISTINCT\040sid,\040GROUP_CONCAT(\040DISTINCT\040cid\040ORDER\040BY\040cid)\040AS\040cids\040FROM\040enrolled\040GROUP\040BY\040sid)\040E2\040ON\040E1.sid\040<\040E2.sid\040WHERE\040E1.cids\040=\040E2.cids\040ORDER\040BY\040E1.sid;
(select\040s1.sid,\040s2.sid
from\040enrolled\040as\040s1,\040enrolled\040as\040s2
where\040s1.sid\040>\040s2.sid
group\040by\040s1.sid,\040s2.sid
having\040group_concat(s1.cid\040order\040by\040s1.cid)\040=\040group_concat(s2.cid\040order\040by\040s2.cid))
union
(select\040s1.sid,\040s2.sid
from\040student\040as\040s1,\040student\040as\040s2,\040enrolled\040as\040e1
where\040s1.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s2.sid\040not\040in\040(select\040sid\040from\040enrolled)
and\040s1.sid\040<\040s2.sid
group\040by\040s1.sid,\040s2.sid);
(select\040s1.sid,\040s2.sid\040from\040enrolled\040as\040s1,\040enrolled\040as\040s2\040where\040s1.sid\040>\040s2.sid\040group\040by\040s1.sid,\040s2.sid\040having\040group_concat(s1.cid\040order\040by\040s1.cid)\040=\040group_concat(s2.cid\040order\040by\040s2.cid))\040union\040(select\040s1.sid,\040s2.sid\040from\040student\040as\040s1,\040student\040as\040s2,\040enrolled\040as\040e1\040where\040s1.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s2.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s1.sid\040<\040s2.sid\040group\040by\040s1.sid,\040s2.sid);
SELECT\040DISTINCT\040E3.sid\040,\040E4.sid\040
FROM\040ENROLLED\040E3,\040ENROLLED\040E4\040
WHERE\040(E3.sid\040<E4.sid)\040
AND\040E3.cid\040=\040E4.cid
AND\040(E3.sid,E4.sid)\040NOT\040IN\040(
SELECT\040DISTINCT\040E1.sid\040,\040E2.sid\040
FROM\040ENROLLED\040E1\040,\040ENROLLED\040E2\040
WHERE\040E1.sid\040!=E2.sid\040
AND\040E3.sid\040=\040E1.sid\040
AND\040E4.sid\040=\040E2.sid\040
AND\040(E1.cid\040NOT\040IN\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E2.sid)\040
OR\040E2.cid\040NOT\040IN\040
(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E1.sid)))\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040
UNION
SELECT\040DISTINCT\040T1.sid,T2.sid\040FROM
(SELECT\040S1.sid\040FROM\040STUDENT\040S1\040LEFT\040JOIN\040ENROLLED\040E1\040ON\040S1.sid\040=\040E1.sid\040WHERE\040E1.sid\040IS\040NULL)\040T1\040JOIN
(SELECT\040S2.sid\040FROM\040STUDENT\040S2\040LEFT\040JOIN\040ENROLLED\040E2\040ON\040S2.sid\040=\040E2.sid\040WHERE\040E2.sid\040IS\040NULL\040)\040T2
WHERE\040T1.sid\040<\040T2.sid;
SELECT\040DISTINCT\040E3.sid\040,\040E4.sid\040\040FROM\040ENROLLED\040E3,\040ENROLLED\040E4\040\040WHERE\040(E3.sid\040<E4.sid)\040\040AND\040E3.cid\040=\040E4.cid\040AND\040(E3.sid,E4.sid)\040NOT\040IN\040(\040SELECT\040DISTINCT\040E1.sid\040,\040E2.sid\040\040FROM\040ENROLLED\040E1\040,\040ENROLLED\040E2\040\040WHERE\040E1.sid\040!=E2.sid\040\040AND\040E3.sid\040=\040E1.sid\040\040AND\040E4.sid\040=\040E2.sid\040\040AND\040(E1.cid\040NOT\040IN\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E2.sid)\040\040OR\040E2.cid\040NOT\040IN\040\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E1.sid)))\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040UNION\040SELECT\040DISTINCT\040T1.sid,T2.sid\040FROM\040(SELECT\040S1.sid\040FROM\040STUDENT\040S1\040LEFT\040JOIN\040ENROLLED\040E1\040ON\040S1.sid\040=\040E1.sid\040WHERE\040E1.sid\040IS\040NULL)\040T1\040JOIN\040(SELECT\040S2.sid\040FROM\040STUDENT\040S2\040LEFT\040JOIN\040ENROLLED\040E2\040ON\040S2.sid\040=\040E2.sid\040WHERE\040E2.sid\040IS\040NULL\040)\040T2\040WHERE\040T1.sid\040<\040T2.sid;
SELECT\040Student1,\040Student2\040FROM(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040WHERE\040(AllTuples.Student1,\040AllTuples.Student2)\040NOT\040IN(\040SELECT\040Student1,\040Student2\040FROM(\040SELECT\040*\040FROM(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu1Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student1\040=\040E.sid)\040AS\040Stu1CoursesTable\040WHERE\040(Stu1CoursesTable.Student1,\040Stu1CoursesTable.Student2,\040Stu1Courses)\040NOT\040IN\040(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu2Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student2\040=\040E.sid)\040\040UNION\040\040SELECT\040*\040FROM(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu2Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student2\040=\040E.sid)\040AS\040Stu2CoursesTable\040WHERE\040(Stu2CoursesTable.Student1,\040Stu2CoursesTable.Student2,\040Stu2Courses)\040NOT\040IN\040(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu1Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student1\040=\040E.sid))\040AS\040TableWithCoursesNotTakenByBoth);
delete\040from\040enrolled
;
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2
WHERE\040s1.sid>s2.sid
AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)
)
UNION
(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040
WHERE\040S1.sid>S2.sid\040
group\040by\040S1.sid,\040S2.sid\040
having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)
);
(SELECT\040s1.sid,\040s2.sid\040FROM\040student\040s1,\040student\040s2\040WHERE\040s1.sid>s2.sid\040AND\040s1.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040AND\040s2.sid\040not\040in\040(Select\040sid\040from\040Enrolled)\040)\040\040UNION\040\040(SELECT\040S1.sid,\040S2.sid\040FROM\040Enrolled\040as\040S1,\040Enrolled\040as\040S2\040\040WHERE\040S1.sid>S2.sid\040\040group\040by\040S1.sid,\040S2.sid\040\040having\040group_concat(distinct\040S1.cid\040order\040by\040S1.cid)\040=\040group_concat(distinct\040S2.cid\040order\040by\040s2.cid)\040\040);
SELECT\040E1.sid,\040E2.sid\040FROM\040(SELECT\040DISTINCT\040sid,\040GROUP_CONCAT(\040DISTINCT\040cid\040ORDER\040BY\040cid)\040AS\040cids\040FROM\040enrolled\040GROUP\040BY\040sid)\040E1\040JOIN\040(SELECT\040DISTINCT\040sid,\040GROUP_CONCAT(\040DISTINCT\040cid\040ORDER\040BY\040cid)\040AS\040cids\040FROM\040enrolled\040GROUP\040BY\040sid)\040E2\040ON\040E1.sid\040<\040E2.sid\040WHERE\040E1.cids\040=\040E2.cids\040ORDER\040BY\040E1.sid;
(select\040s1.sid,\040s2.sid
from\040enrolled\040as\040s1,\040enrolled\040as\040s2
where\040s1.sid\040>\040s2.sid
group\040by\040s1.sid,\040s2.sid
having\040group_concat(s1.cid\040order\040by\040s1.cid)\040=\040group_concat(s2.cid\040order\040by\040s2.cid))
union
(select\040s1.sid,\040s2.sid
from\040student\040as\040s1,\040student\040as\040s2,\040enrolled\040as\040e1
where\040s1.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s2.sid\040not\040in\040(select\040sid\040from\040enrolled)
and\040s1.sid\040<\040s2.sid
group\040by\040s1.sid,\040s2.sid);
(select\040s1.sid,\040s2.sid\040from\040enrolled\040as\040s1,\040enrolled\040as\040s2\040where\040s1.sid\040>\040s2.sid\040group\040by\040s1.sid,\040s2.sid\040having\040group_concat(s1.cid\040order\040by\040s1.cid)\040=\040group_concat(s2.cid\040order\040by\040s2.cid))\040union\040(select\040s1.sid,\040s2.sid\040from\040student\040as\040s1,\040student\040as\040s2,\040enrolled\040as\040e1\040where\040s1.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s2.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s1.sid\040<\040s2.sid\040group\040by\040s1.sid,\040s2.sid);
SELECT\040DISTINCT\040E3.sid\040,\040E4.sid\040
FROM\040ENROLLED\040E3,\040ENROLLED\040E4\040
WHERE\040(E3.sid\040<E4.sid)\040
AND\040E3.cid\040=\040E4.cid
AND\040(E3.sid,E4.sid)\040NOT\040IN\040(
SELECT\040DISTINCT\040E1.sid\040,\040E2.sid\040
FROM\040ENROLLED\040E1\040,\040ENROLLED\040E2\040
WHERE\040E1.sid\040!=E2.sid\040
AND\040E3.sid\040=\040E1.sid\040
AND\040E4.sid\040=\040E2.sid\040
AND\040(E1.cid\040NOT\040IN\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E2.sid)\040
OR\040E2.cid\040NOT\040IN\040
(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E1.sid)))\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040
UNION
SELECT\040DISTINCT\040T1.sid,T2.sid\040FROM
(SELECT\040S1.sid\040FROM\040STUDENT\040S1\040LEFT\040JOIN\040ENROLLED\040E1\040ON\040S1.sid\040=\040E1.sid\040WHERE\040E1.sid\040IS\040NULL)\040T1\040JOIN
(SELECT\040S2.sid\040FROM\040STUDENT\040S2\040LEFT\040JOIN\040ENROLLED\040E2\040ON\040S2.sid\040=\040E2.sid\040WHERE\040E2.sid\040IS\040NULL\040)\040T2
WHERE\040T1.sid\040<\040T2.sid
;
SELECT\040DISTINCT\040E3.sid\040,\040E4.sid\040\040FROM\040ENROLLED\040E3,\040ENROLLED\040E4\040\040WHERE\040(E3.sid\040<E4.sid)\040\040AND\040E3.cid\040=\040E4.cid\040AND\040(E3.sid,E4.sid)\040NOT\040IN\040(\040SELECT\040DISTINCT\040E1.sid\040,\040E2.sid\040\040FROM\040ENROLLED\040E1\040,\040ENROLLED\040E2\040\040WHERE\040E1.sid\040!=E2.sid\040\040AND\040E3.sid\040=\040E1.sid\040\040AND\040E4.sid\040=\040E2.sid\040\040AND\040(E1.cid\040NOT\040IN\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E2.sid)\040\040OR\040E2.cid\040NOT\040IN\040\040(SELECT\040E.cid\040FROM\040ENROLLED\040E\040WHERE\040E.sid\040=\040E1.sid)))\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040UNION\040SELECT\040DISTINCT\040T1.sid,T2.sid\040FROM\040(SELECT\040S1.sid\040FROM\040STUDENT\040S1\040LEFT\040JOIN\040ENROLLED\040E1\040ON\040S1.sid\040=\040E1.sid\040WHERE\040E1.sid\040IS\040NULL)\040T1\040JOIN\040(SELECT\040S2.sid\040FROM\040STUDENT\040S2\040LEFT\040JOIN\040ENROLLED\040E2\040ON\040S2.sid\040=\040E2.sid\040WHERE\040E2.sid\040IS\040NULL\040)\040T2\040WHERE\040T1.sid\040<\040T2.sid;
SELECT\040Student1,\040Student2\040FROM(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040WHERE\040(AllTuples.Student1,\040AllTuples.Student2)\040NOT\040IN(\040SELECT\040Student1,\040Student2\040FROM(\040SELECT\040*\040FROM(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu1Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student1\040=\040E.sid)\040AS\040Stu1CoursesTable\040WHERE\040(Stu1CoursesTable.Student1,\040Stu1CoursesTable.Student2,\040Stu1Courses)\040NOT\040IN\040(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu2Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student2\040=\040E.sid)\040\040UNION\040\040SELECT\040*\040FROM(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu2Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student2\040=\040E.sid)\040AS\040Stu2CoursesTable\040WHERE\040(Stu2CoursesTable.Student1,\040Stu2CoursesTable.Student2,\040Stu2Courses)\040NOT\040IN\040(\040SELECT\040Student1,\040Student2,\040\040E.cid\040AS\040Stu1Courses\040FROM\040(\040SELECT\040S1.sid\040AS\040Student1\040,\040S2.sid\040AS\040Student2\040FROM\040Student\040AS\040S1,\040Student\040AS\040S2\040WHERE\040S1.sid\040<\040S2.sid)\040AS\040AllTuples\040JOIN\040(\040SELECT\040*\040FROM\040Enrolled\040GROUP\040BY\040sid,\040cid)\040AS\040E\040ON\040Student1\040=\040E.sid))\040AS\040TableWithCoursesNotTakenByBoth);
DELETE\040FROM\040Enrolled;
select\040distinct\040en.sid\040from\040Enrolled\040en\040where\040en.grade\040is\040not\040null\040and\040en.sid\040not\040in\040(select\040e.sid\040from\040Enrolled\040e,\040(select\040cid,\040semesterid,\040max(grade)\040as\040mx\040from\040Enrolled\040group\040by\040cid,\040semesterid)\040x\040where\040e.cid=x.cid\040AND\040e.semesterid\040=\040x.semesterid\040and\040e.grade\040!=\040x.mx);
SELECT\040DISTINCT\040E.sid\040
FROM\040Enrolled\040E\040
WHERE\040NOT\040EXISTS
(
SELECT\040*\040FROM
ENROLLED\040E1,\040ENROLLED\040E2
WHERE\040E1.sid!=E2.sid
AND\040E1.cid=E2.cid
AND\040E1.semesterid=E2.semesterid
AND\040E.sid=E1.sid
AND\040E1.grade<E2.grade
);
SELECT\040DISTINCT\040E.sid\040\040FROM\040Enrolled\040E\040\040WHERE\040NOT\040EXISTS\040(\040SELECT\040*\040FROM\040ENROLLED\040E1,\040ENROLLED\040E2\040WHERE\040E1.sid!=E2.sid\040AND\040E1.cid=E2.cid\040AND\040E1.semesterid=E2.semesterid\040AND\040E.sid=E1.sid\040AND\040E1.grade<E2.grade\040);
(select\040s1.sid,\040s2.sid
from\040enrolled\040as\040s1,\040enrolled\040as\040s2
where\040s1.sid\040>\040s2.sid
group\040by\040s1.sid,\040s2.sid
having\040group_concat(s1.cid\040order\040by\040s1.cid)\040=\040group_concat(s2.cid\040order\040by\040s2.cid))
union
(select\040s1.sid,\040s2.sid
from\040student\040as\040s1,\040student\040as\040s2,\040enrolled\040as\040e1
where\040s1.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s2.sid\040not\040in\040(select\040sid\040from\040enrolled)
and\040s1.sid\040<\040s2.sid
group\040by\040s1.sid,\040s2.sid);
(select\040s1.sid,\040s2.sid\040from\040enrolled\040as\040s1,\040enrolled\040as\040s2\040where\040s1.sid\040>\040s2.sid\040group\040by\040s1.sid,\040s2.sid\040having\040group_concat(s1.cid\040order\040by\040s1.cid)\040=\040group_concat(s2.cid\040order\040by\040s2.cid))\040union\040(select\040s1.sid,\040s2.sid\040from\040student\040as\040s1,\040student\040as\040s2,\040enrolled\040as\040e1\040where\040s1.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s2.sid\040not\040in\040(select\040sid\040from\040enrolled)\040and\040s1.sid\040<\040s2.sid\040group\040by\040s1.sid,\040s2.sid);
select\040sid\040from\040enrolled
where\040sid\040not\040in(select\040sid\040from\040(select\040*
n
;
select\040sid\040from\040enrolled\040where\040sid\040not\040in(select\040sid\040from\040(select\040*\040n;
select\040sid\040from\040enrolled\040where\040sid\040not\040in(select\040sid\040from\040(select\040*\040from\040enrolled\040c1,\040(select\040cid\040as\040cid2,\040max(grade)\040as\040grade2,\040semesterid\040as\040semesterid2\040from\040enrolled\040group\040by\040cid,\040semesterid)\040c2\040where\040c1.cid\040=\040c2.cid2\040and\040c1.semesterid\040=\040c2.semesterid2\040group\040by\040c1.sid,\040c1.cid,\040c1.semesterid)\040c3\040where\040c3.grade\040!=\040c3.grade2)\040group\040by\040sid;
SELECT\040DISTINCT\040E.sid\040FROM\040enrolled\040E\040WHERE\040E.sid\040NOT\040IN\040(SELECT\040E5.sid\040FROM\040(SELECT\040E3.sid,\040E3.cid,\040E3.semesterid\040FROM\040ENROLLED\040E3\040WHERE\040(E3.sid,\040E3.cid,\040E3.semesterid)\040NOT\040IN\040(Select\040E4.sid,\040E4.cid,\040E4.semesterid\040FROM\040(SELECT\040*\040FROM\040enrolled\040E1\040WHERE\040NOT\040EXISTS\040(SELECT\040*\040FROM\040enrolled\040E2\040WHERE\040E2.cid\040=\040E1.cid\040AND\040E2.semesterid=E1.semesterid\040AND\040E2.grade\040>\040E1.grade))\040AS\040E4))\040AS\040E5);
Select\040distinct\040t.sid\040
FROM
enrolled\040t
where\040t.sid\040not\040in\040
(Select\040S.sid\040FROM\040
(Select\040E.cid,\040E.semesterid,\040Max(E.grade)\040as\040high
FROM\040enrolled\040E
Group\040By\040E.semesterid,\040E.cid
)\040as\040course_grades,
enrolled\040S
where\040
S.cid=course_grades.cid\040AND\040S.semesterid=course_grades.semesterid
AND\040S.grade<course_grades.high);
Select\040distinct\040t.sid\040\040FROM\040enrolled\040t\040\040where\040t.sid\040not\040in\040\040\040(Select\040S.sid\040FROM\040\040(Select\040E.cid,\040E.semesterid,\040Max(E.grade)\040as\040high\040FROM\040enrolled\040E\040Group\040By\040E.semesterid,\040E.cid\040\040)\040as\040course_grades,\040enrolled\040S\040\040where\040\040\040S.cid=course_grades.cid\040AND\040S.semesterid=course_grades.semesterid\040AND\040S.grade<course_grades.high);
Select\040distinct\040t.sid\040FROM\040enrolled\040t\040where\040t.sid\040not\040in\040(Select\040S.sid\040FROM\040(Select\040E.cid,\040E.semesterid,\040Max(E.grade)\040as\040high\040FROM\040enrolled\040E\040Group\040By\040E.semesterid,\040E.cid)\040as\040course_grades,\040enrolled\040S\040where\040S.cid=course_grades.cid\040AND\040S.semesterid=course_grades.semesterid\040AND\040S.grade<course_grades.high);
delete\040from\040enrolled;
insert\040into\040enrolled\040values\040(1,\040101,\0401,\0408),\040(2,\040101,\0401,\04012),\040(1,\040102,\0401,\04012),\040(2,\040102,\0401,\0408);
Select\040distinct\040t.sid\040FROM\040enrolled\040t\040where\040t.sid\040not\040in\040(Select\040S.sid\040FROM\040(Select\040E.cid,\040E.semesterid,\040Max(E.grade)\040as\040high\040FROM\040enrolled\040E\040Group\040By\040E.semesterid,\040E.cid)\040as\040course_grades,\040enrolled\040S\040where\040S.cid=course_grades.cid\040AND\040S.semesterid=course_grades.semesterid\040AND\040S.grade<course_grades.high);
SELECT\040DISTINCT\040E.sid\040FROM\040enrolled\040E\040WHERE\040E.sid\040NOT\040IN\040(SELECT\040E5.sid\040FROM\040(SELECT\040E3.sid,\040E3.cid,\040E3.semesterid\040FROM\040ENROLLED\040E3\040WHERE\040(E3.sid,\040E3.cid,\040E3.semesterid)\040NOT\040IN\040(Select\040E4.sid,\040E4.cid,\040E4.semesterid\040FROM\040(SELECT\040*\040FROM\040enrolled\040E1\040WHERE\040NOT\040EXISTS\040(SELECT\040*\040FROM\040enrolled\040E2\040WHERE\040E2.cid\040=\040E1.cid\040AND\040E2.semesterid=E1.semesterid\040AND\040E2.grade\040>\040E1.grade))\040AS\040E4))\040AS\040E5)
;
select\040sid\040from\040enrolled\040where\040sid\040not\040in(select\040sid\040from\040(select\040*\040from\040enrolled\040c1,\040(select\040cid\040as\040cid2,\040max(grade)\040as\040grade2,\040semesterid\040as\040semesterid2\040from\040enrolled\040group\040by\040cid,\040semesterid)\040c2\040where\040c1.cid\040=\040c2.cid2\040and\040c1.semesterid\040=\040c2.semesterid2\040group\040by\040c1.sid,\040c1.cid,\040c1.semesterid)\040c3\040where\040c3.grade\040!=\040c3.grade2)\040group\040by\040sid;
SELECT\040DISTINCT\040E.sid\040
FROM\040Enrolled\040E\040
WHERE\040NOT\040EXISTS
(
SELECT\040*\040FROM
ENROLLED\040E1,\040ENROLLED\040E2
WHERE\040E1.sid!=E2.sid
AND\040E1.cid=E2.cid
AND\040E1.semesterid=E2.semesterid
AND\040E.sid=E1.sid
AND\040E1.grade<E2.grade
);
SELECT\040DISTINCT\040E.sid\040\040FROM\040Enrolled\040E\040\040WHERE\040NOT\040EXISTS\040(\040SELECT\040*\040FROM\040ENROLLED\040E1,\040ENROLLED\040E2\040WHERE\040E1.sid!=E2.sid\040AND\040E1.cid=E2.cid\040AND\040E1.semesterid=E2.semesterid\040AND\040E.sid=E1.sid\040AND\040E1.grade<E2.grade\040);
select\040distinct\040en.sid\040from\040Enrolled\040en\040where\040en.grade\040is\040not\040null\040and\040en.sid\040not\040in\040(select\040e.sid\040from\040Enrolled\040e,\040(select\040cid,\040semesterid,\040max(grade)\040as\040mx\040from\040Enrolled\040group\040by\040cid,\040semesterid)\040x\040where\040e.cid=x.cid\040AND\040e.semesterid\040=\040x.semesterid\040and\040e.grade\040!=\040x.mx);
delete\040from\040enrolled;
insert\040into\040enrolled\040values\040(1,\040101,\0401,\04012),\040(2,\040101,\0401,\0409),\040(1,\040102,\0401,\04012),\040(3,\040102,\0401,\04012),\040(1,\040101,\0402,\04010),\040(4,\040101,\0402,\04013);
select\040distinct\040en.sid\040from\040Enrolled\040en\040where\040en.grade\040is\040not\040null\040and\040en.sid\040not\040in\040(select\040e.sid\040from\040Enrolled\040e,\040(select\040cid,\040semesterid,\040max(grade)\040as\040mx\040from\040Enrolled\040group\040by\040cid,\040semesterid)\040x\040where\040e.cid=x.cid\040AND\040e.semesterid\040=\040x.semesterid\040and\040e.grade\040!=\040x.mx);
SELECT\040DISTINCT\040E.sid\040
FROM\040Enrolled\040E\040
WHERE\040NOT\040EXISTS
(
SELECT\040*\040FROM
ENROLLED\040E1,\040ENROLLED\040E2
WHERE\040E1.sid!=E2.sid
AND\040E1.cid=E2.cid
AND\040E1.semesterid=E2.semesterid
AND\040E.sid=E1.sid
AND\040E1.grade<E2.grade
);
SELECT\040DISTINCT\040E.sid\040\040FROM\040Enrolled\040E\040\040WHERE\040NOT\040EXISTS\040(\040SELECT\040*\040FROM\040ENROLLED\040E1,\040ENROLLED\040E2\040WHERE\040E1.sid!=E2.sid\040AND\040E1.cid=E2.cid\040AND\040E1.semesterid=E2.semesterid\040AND\040E.sid=E1.sid\040AND\040E1.grade<E2.grade\040);
select\040sid\040from\040enrolled\040where\040sid\040not\040in(select\040sid\040from\040(select\040*\040from\040enrolled\040c1,\040(select\040cid\040as\040cid2,\040max(grade)\040as\040grade2,\040semesterid\040as\040semesterid2\040from\040enrolled\040group\040by\040cid,\040semesterid)\040c2\040where\040c1.cid\040=\040c2.cid2\040and\040c1.semesterid\040=\040c2.semesterid2\040group\040by\040c1.sid,\040c1.cid,\040c1.semesterid)\040c3\040where\040c3.grade\040!=\040c3.grade2)\040group\040by\040sid;
SELECT\040DISTINCT\040E.sid\040FROM\040enrolled\040E\040WHERE\040E.sid\040NOT\040IN\040(SELECT\040E5.sid\040FROM\040(SELECT\040E3.sid,\040E3.cid,\040E3.semesterid\040FROM\040ENROLLED\040E3\040WHERE\040(E3.sid,\040E3.cid,\040E3.semesterid)\040NOT\040IN\040(Select\040E4.sid,\040E4.cid,\040E4.semesterid\040FROM\040(SELECT\040*\040FROM\040enrolled\040E1\040WHERE\040NOT\040EXISTS\040(SELECT\040*\040FROM\040enrolled\040E2\040WHERE\040E2.cid\040=\040E1.cid\040AND\040E2.semesterid=E1.semesterid\040AND\040E2.grade\040>\040E1.grade))\040AS\040E4))\040AS\040E5);
Select\040distinct\040t.sid\040FROM\040enrolled\040t\040where\040t.sid\040not\040in\040(Select\040S.sid\040FROM\040(Select\040E.cid,\040E.semesterid,\040Max(E.grade)\040as\040high\040FROM\040enrolled\040E\040Group\040By\040E.semesterid,\040E.cid)\040as\040course_grades,\040enrolled\040S\040where\040S.cid=course_grades.cid\040AND\040S.semesterid=course_grades.semesterid\040AND\040S.grade<course_grades.high);
